<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tale hive | Story Writing</title>
  <link rel="icon" href="https://fav.farm/âš¡" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
 <style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to right, #c9d6ff, #e2e2e2);
    color: #333;
    padding: 30px;
    transition: all 0.4s ease-in-out;
  }

  body.dark {
    background: linear-gradient(to right, #141e30, #243b55);
    color: #f0f0f0;
  }

  #content,
  .glass {
    backdrop-filter: blur(14px);
    background: rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
    transition: all 0.4s ease;
    color: inherit;
  }

  body.dark #content,
  body.dark .glass {
    background: rgba(255, 255, 255, 0.05);
    color: #f0f0f0;
  }

  h1, h3 {
    text-align: center;
    margin-bottom: 20px;
    animation: fadeSlide 1s ease;
  }

  @keyframes fadeSlide {
    from {
      opacity: 0;
      transform: translateY(15px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  nav {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 20px;
  }

  nav a {
    padding: 10px 18px;
    background: transparent;
    border: 1px solid #1e5aa8;
    color: #1e5aa8;
    border-radius: 10px;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  nav a:hover {
    background: #1e5aa8;
    color: white;
  }

  body.dark nav a {
    border-color: #aad2ff;
    color: #aad2ff;
  }

  body.dark nav a:hover {
    background: #aad2ff;
    color: #000;
  }

#darkModeBtn {
  position: fixed;
  top: 20px;
  left: 20px; /* moved from right to left */
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  cursor: pointer;
  z-index: 999;
  transition: background-color 0.3s, color 0.3s;
}
#darkModeBtn:hover {
  background: #0e3c74;
  transform: scale(1.1);
}

  input, textarea, button {
    width: 100%;
    margin-bottom: 15px;
    padding: 10px;
    font-size: 15px;
    border: none;
    border-radius: 10px;
    outline: none;
    background: #f0f0f0;
    transition: all 0.3s ease;
  }

  input:focus, textarea:focus {
    background: #fff;
    box-shadow: 0 0 0 2px #1e5aa8;
  }

  body.dark input, body.dark textarea {
    background: #333;
    color: #f0f0f0;
  }

  button {
    background: #1e5aa8;
    color: white;
    cursor: pointer;
  }

  button:hover {
    background: #15467f;
  }

.story-card {
  padding: 20px;
  margin-bottom: 20px;
  border-left: 5px solid #1e5aa8;
  background: #ffffff;
  color: #000;
  border-radius: 10px;
  animation: fadeSlide 0.6s ease;
  transition: background 0.3s, color 0.3s;
}

body.dark .story-card {
  background: rgba(255, 255, 255, 0.08);
  color: #f0f0f0;
  border-left: 5px solid #aad2ff;
}

  .auth-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 999;
  }

  .auth-box {
    background: white;
    padding: 30px;
    border-radius: 12px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    text-align: center;
    animation: fadeSlide 0.5s ease;
  }

  body.dark .auth-box {
    background: #2e2e2e;
  }

  footer {
    text-align: center;
    margin-top: 40px;
    font-size: 14px;
    color: #aaa;
  }

  @media (max-width: 600px) {
    body { padding: 20px; }
    nav { flex-direction: column; gap: 10px; }
  }
  .thumb-btn {
  background: none;
  border: none;
  color: #1e5aa8;
  font-size: 18px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 5px;
  transition: transform 0.2s, color 0.3s;
}

.thumb-btn:hover {
  transform: scale(1.1);
  color: #0e3c74;
}

body.dark .thumb-btn {
  color: #aad2ff;
}

body.dark .thumb-btn:hover {
  color: #7dbbff;
}
body.dark-mode .story {
  background-color: #1a1a1a; /* darker background for story boxes */
  color: #e0e0e0; /* light text color */
}

body.dark-mode .story p,
body.dark-mode .story h3 {
  color: #e0e0e0; /* ensure paragraphs and headings are light */
}
body, #content, .story-card, nav a, .thumb-btn, input, textarea, button {
  transition: background-color 0.4s ease, color 0.4s ease, border-color 0.4s ease;
}
body.dark .story-card {
  background-color: #1a1a1a;
  color: #e0e0e0;
}

body.dark .story-card h3,
body.dark .story-card p,
body.dark .story-card .comment {
  color: #e0e0e0;
}

body.dark .like {
  color: #e0e0e0;
}

body.dark .comment-input {
  background-color: #333;
  color: #e0e0e0;
  border: 1px solid #555;
}
.story {
    color: black; /* for light mode */
}

.dark-mode .story {
    color: white; /* for dark mode */
}
</style>
</head>
<body>
  
  <h1>Tale Hive</h1>
  <h3>Where everyone Can share there Story </h3>
<!-- Three Dots Menu -->
<div id="menuContainer" style="position: fixed; top: 20px; left: 20px; z-index: 999;">
  <button id="menuButton" style="background: none; border: none; font-size: 28px; cursor: pointer; color: #007bff;">
    <i class="fas fa-ellipsis-v"></i> <!-- Three dots icon -->
  </button>
  
  <div id="menuItems" style="display: none; margin-top: 10px;">
    <button id="darkModeBtn" onclick="toggleDarkMode()" style="background-color: #007bff; color: white; border: none; padding: 6px 10px; border-radius: 5px; cursor: pointer; width: 80px;">
      <i id="darkIcon" class="fas fa-moon"></i> Dark Mode
    </button>
  </div>
</div>
  <nav>
    <a onclick="navigate('home')">Home</a>
    <a onclick="navigate('about')">About</a>
    <a onclick="navigate('contact')">Contact</a>
  </nav>

  <div id="content"></div>
  <footer>&copy; 2025 Awais Ashraf. All rights reserved.</footer>

  <script>
    const pages = {
      home: `
        <h2>Story Feed</h2>
        <button onclick="showPostForm()" style="margin-bottom: 20px; padding: 10px 20px; background: #1e5aa8; color: white; border: none; border-radius: 5px;">Post a New Story</button>
        <div id="storyForm" style="display:none; margin-bottom: 30px;">
          <h3>Write Your Story</h3>
          <input type="text" id="storyTitle" placeholder="Story Title" required style="width:100%; padding:8px; margin-bottom:10px;" />
          <textarea id="storyContent" placeholder="Write your story here..." rows="5" required style="width:100%; padding:8px; margin-bottom:10px;"></textarea>
          <button onclick="submitStory()" style="padding:10px 20px; background:#1e5aa8; color:white; border:none; border-radius:5px;">Submit</button>
        </div>
        <div id="storiesList"></div>
      `,
      about: "<h2>About This Site</h2><p>This is a collaborative storytelling platform where anyone can post a story, give thumbs up, and comment on others' work. Built by Awais Ashraf, 17-year-old web developer passionate about sharing and creativity.</p>",
      contact: `
        <h2>Contact Me</h2>
        <form action="https://formspree.io/f/movdvdqw" method="POST">
          <label>Name:<br><input type="text" name="name" required style="width:100%; padding:8px; margin-bottom:10px;" /></label><br>
          <label>Email:<br><input type="email" name="email" required style="width:100%; padding:8px; margin-bottom:10px;" /></label><br>
          <label>Message:<br><textarea name="message" rows="5" required style="width:100%; padding:8px; margin-bottom:10px;"></textarea></label><br>
          <button type="submit" style="padding:10px 20px; background:#1e5aa8; color:white; border:none; border-radius:5px;">Send</button>
        </form>
        <p style="margin-top:10px;">Or email me directly: <strong>awaisashraf0609@gmail.com</strong></p>
      `
    };

    function navigate(page) {
      const content = document.getElementById("content");
      content.style.opacity = 0;
      content.style.transform = "translateY(10px)";
      setTimeout(() => {
        content.innerHTML = pages[page];
        content.style.opacity = 1;
        content.style.transform = "translateY(0)";
        if (page === 'home') renderStories();
      }, 250);
    }

    function toggleDarkMode() {
  const body = document.body;
  const icon = document.getElementById("darkIcon");
  
  body.classList.toggle("dark");
  
  if (body.classList.contains("dark")) {
    icon.classList.remove("fa-moon");
    icon.classList.add("fa-sun");
  } else {
    icon.classList.remove("fa-sun");
    icon.classList.add("fa-moon");
  }
}
    function showPostForm() {
      document.getElementById('storyForm').style.display = 'block';
    }

    function submitStory() {
      const title = document.getElementById('storyTitle').value.trim();
      const content = document.getElementById('storyContent').value.trim();
      if (!title || !content) return alert("Please fill in both fields.");

      const story = { title, content, thumbs: 0, comments: [] };
      const stories = JSON.parse(localStorage.getItem("stories") || "[]");
      stories.unshift(story);
      localStorage.setItem("stories", JSON.stringify(stories));
      renderStories();
      document.getElementById('storyForm').style.display = 'none';
    }

    function renderStories() {
  const container = document.getElementById('storiesList');
  const stories = JSON.parse(localStorage.getItem("stories") || "[]");
  container.innerHTML = stories.map((story, index) => `
    <div class="story-card">
      <h3>${story.title}</h3>
      <p>${story.content}</p>
      <button onclick="thumbUp(${index})" class="thumb-btn" id="thumb-${index}">
        <i class="fas fa-thumbs-up"></i> <span>${story.thumbs}</span>
      </button>
      <div style="margin-top:10px;">
        <input type="text" placeholder="Add a comment..." id="commentInput${index}" style="width:80%; padding:5px;" />
        <button onclick="addComment(${index})" style="padding: 5px 10px;">Comment</button>
      </div>
      <div style="margin-top:10px;">
        ${story.comments.map(c => `<p style="margin:2px 0;">- ${c}</p>`).join('')}
      </div>
    </div>
  `).join('');
}

    function thumbUp(index) {
  const key = `liked-${index}`;
  if (sessionStorage.getItem(key)) {
    alert("You've already liked this story in this session.");
    return;
  }
  
  const stories = JSON.parse(localStorage.getItem("stories") || "[]");
  stories[index].thumbs += 1;
  localStorage.setItem("stories", JSON.stringify(stories));
  sessionStorage.setItem(key, true);
  renderStories();
}

    function addComment(index) {
      const input = document.getElementById(`commentInput${index}`);
      const comment = input.value.trim();
      if (!comment) return;
      const stories = JSON.parse(localStorage.getItem("stories") || "[]");
      stories[index].comments.push(comment);
      localStorage.setItem("stories", JSON.stringify(stories));
      input.value = '';
      renderStories();
    }

    // Load home on first visit
    navigate('home');
    const menuButton = document.getElementById('menuButton');
const menuItems = document.getElementById('menuItems');

menuButton.addEventListener('click', () => {
  menuItems.style.display = (menuItems.style.display === 'none' || menuItems.style.display === '') ? 'block' : 'none';
});
  </script>
</body>
</html>